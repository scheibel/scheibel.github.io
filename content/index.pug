extends /template/defaultcontent.pug

include /content/partials/profiles.pug
include /content/partials/introduction.pug
include /content/partials/news.pug
include /content/partials/contact.pug
include /content/partials/scholarships.pug
include /content/partials/projects.pug
include /content/partials/presentations.pug
include /content/partials/committees.pug
include /content/partials/academicservice.pug
include /content/partials/teaching.pug
include /content/partials/publications.pug

block variables
  - var PageName = "#{context.name}"
  - var PageID = "index"
  -
    var news_keys = Object.keys(news);
    news_keys.sort();
    news_keys.reverse();
    news_keys.length = Math.min(news_keys.length, 5);


block navbar
  include partials/navbar
  .row.mb-4


block footer
  include partials/footer


block content

  - var publications_filter = [];
  if publications_filter.length > 0
    +publications_card(publications_filter, publications)
  
  if teaching.semesters.length > 0
    +teaching_card(teaching)

  if academicservice.services.length > 0
    +academicservice_card(academicservice)

  if committeework.committees.length > 0
    +committees_card(committeework)

  if presentations.presentations.length > 0
    +presentations_card(presentations)

  if projects.projects.length > 0
    +projects_card(projects)

  if grants.grants.length > 0
    +scholarships_card(grants)
  
  +contact_card(context)

block sidecontent
  +introduction_card(context)
  
  if news_keys.length > 0
    +news_card(news_keys, news)

  if profiles.profiles.length > 0
    +profiles_card(profiles)
